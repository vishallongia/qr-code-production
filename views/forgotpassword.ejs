<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Modern Login & Registration</title>
    <!-- Standard favicon -->
    <link rel="icon" type="image/png" sizes="192x192" href="/app-icon-192.png">

    <!-- Apple Touch Icon (for iOS home screen) -->
    <link rel="apple-touch-icon" href="/app-icon-192.png">

    <!-- Android Chrome Web App Manifest (optional but useful for PWAs) -->
    <link rel="manifest" href="/manifest.json">
    <link rel="stylesheet" href="/css/style.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
    <link rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/npm/toastify-js/src/toastify.min.css">
</head>

<body>
    <div class="lang">
        <!-- Language Switcher -->
        <select id="languageSwitcher">
            <option value="en">English</option>
            <option value="de">Deutsch (German)</option>
            <!-- <option value="hu">Magyar (Hungarian)</option> -->
        </select>
    </div>
    <div class="container">
        <div class="form-container">
            <div class="form-box login">
                <h1 id="forgotpasswordheadingtext">Forgot Password</h1>
                <h1 id="updatepasswordheadingtext">Update Password</h1>
                <form id="forgotPasswordForm">
                    <p class="forgotpasswordinfotext" id="resetpasswordinfotext">Enter your email address to receive a
                        password reset link.</p>

                    <!-- Email Input (Only for /forgotpassword route) -->
                    <div id="emailSection">
                        <div class="input-group">
                            <input type="email" id="email" name="email" placeholder="Enter your email" required>
                        </div>
                        <div class="input-group">
                            <button type="submit" id="sendLinkButton" class="submit-btn">Send
                                Reset Link</button>
                        </div>
                    </div>

                </form>

                <!-- New Password Input (Only for /forgotpassword/:token route) -->
                <form id="updatePasswordForm">
                    <div id="newPasswordSection" style="display: none;">
                        <p class="forgotpasswordemail" id="forgotpasswordemail">Email: abc123@gmail.com</p>
                        <div class="input-group">
                            <input type="password" id="newPassword" name="newPassword" placeholder="Enter new password"
                                required>
                        </div>
                        <div class="input-group">
                            <button type="submit" id="updatePasswordButton" class="submit-btn"">Update Password</button>
                    </div>
                </div>
                <p class=" toggle-form"> <span id="AlreadyHaveAccountText">Already have an account? </span><a href="/"
                                    id="login-toggle"> Login</a></p>
                </form>
            </div>
        </div>
    </div>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/toastify-js/1.12.0/toastify.min.js"></script>
    <script src="/js/toastify-setup.js"></script>
    <script src="/js/forgot-password.js"></script>
    <script src="/js/forgot-password-api-calls.js"></script>

    <script>
        // Check if there's a message passed from the server
        <% if (typeof message !== 'undefined' && message) { %>
            showToast("<%= message %>", "<%= type || 'success' %>");
        <% } %>
    </script>

</body>

</html>